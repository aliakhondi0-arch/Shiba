<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Earn Shiba by Watching Ads</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
      background-image: url('https://wallpaperaccess.com/full/3601922.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      text-align: center;
      color: #fff;
      overflow: hidden;
    }

    @keyframes glow {
      0% { box-shadow: 0 0 10px #00f; }
      50% { box-shadow: 0 0 20px #f0f; }
      100% { box-shadow: 0 0 10px #00f; }
    }

    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-2px); }
      50% { transform: translateX(2px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }

    .reward-banner {
      position: fixed;
      top: 60px;
      left: 0;
      right: 0;
      margin: 0 auto;
      background: linear-gradient(90deg, #00f, #f0f);
      color: #fff;
      padding: 12px 24px;
      border-radius: 14px;
      font-weight: bold;
      font-size: 15px;
      animation: glow 2s infinite, shake 1.5s infinite;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      max-width: 90%;
      width: fit-content;
    }

    .wallet-btn, .dashboard-btn, .referral-btn {
      position: fixed;
      top: 12px;
      background-color: white;
      border: 2px solid #777;
      padding: 6px;
      border-radius: 8px;
      cursor: pointer;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      z-index: 1001;
      transition: transform 0.2s ease;
    }

    .wallet-btn:hover, .dashboard-btn:hover, .referral-btn:hover {
      transform: scale(1.1);
    }

    .wallet-btn { right: 12px; }
    .dashboard-btn { left: 12px; }
    .referral-btn { left: 50%; transform: translateX(-50%); }

    .wallet-btn img, .dashboard-btn img, .referral-btn img {
      height: 18px;
      width: 18px;
    }

    .container {
      max-width: 500px;
      margin: 120px auto 40px auto;
      padding: 20px 16px 40px 16px;
      background-color: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      position: relative;
      z-index: 1;
      height: calc(100vh - 160px);
      overflow-y: auto;
    }

    h1 {
      color: #fff;
      font-size: 22px;
      margin-bottom: 5px;
    }

    .shiba-logo {
      height: 36px;
      width: 36px;
      vertical-align: middle;
      margin-right: 8px;
    }

    .subtitle {
      color: #fff;
      font-size: 14px;
      margin-bottom: 20px;
      opacity: 0.9;
      line-height: 1.4;
    }

    button {
      color: white;
      border: none;
      padding: 12px 14px;
      font-size: 14px;
      border-radius: 8px;
      cursor: pointer;
      margin: 8px 0 4px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      transition: transform 0.2s ease, opacity 0.2s ease;
      font-weight: bold;
    }

    button:hover {
      transform: scale(1.03);
    }

    button:active {
      transform: scale(0.98);
    }

    .yektanet-video-btn { background-color: #0984e3; }
    .yektanet-text-btn { background-color: #00b894; }
    .close-btn { background-color: #0077cc; }
    .withdraw-btn { background-color: #9b59b6; }

    .section { 
      margin-top: 25px;
    }

    .support {
      margin-top: 30px;
      font-size: 12px;
      color: #fff;
    }

    .wallet-modal, .dashboard-modal, .referral-modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .wallet-content {
      background-color: rgba(0, 0, 0, 0.8);
      padding: 20px;
      border-radius: 12px;
      width: 280px;
      text-align: left;
      color: #fff;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .wallet-content input {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border-radius: 6px;
      border: 1px solid #777;
      background-color: rgba(255,255,255,0.1);
      color: #fff;
      font-size: 14px;
      box-sizing: border-box;
    }

    .wallet-content input:focus {
      outline: none;
      border-color: #0077cc;
    }

    .wallet-content button {
      width: 100%;
      margin-top: 8px;
    }

    .progress-container {
      margin: 15px 0;
      background-color: rgba(255,255,255,0.1);
      border-radius: 10px;
      height: 12px;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #00f, #f0f);
      border-radius: 10px;
      transition: width 0.5s ease;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: rgba(0,0,0,0.8);
      color: white;
      padding: 15px 20px;
      border-radius: 8px;
      z-index: 1002;
      display: none;
    }

    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      gap: 10px;
    }

    .stat-box {
      background: linear-gradient(135deg, rgba(0, 119, 204, 0.7), rgba(240, 0, 240, 0.7));
      padding: 15px;
      border-radius: 12px;
      flex: 1;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .stat-value {
      font-size: 20px;
      font-weight: bold;
      color: #fff;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    .stat-label {
      font-size: 12px;
      opacity: 0.9;
      margin-top: 5px;
    }

    .btn-icon {
      width: 18px;
      height: 18px;
    }

    .last-update {
      font-size: 10px;
      opacity: 0.7;
      margin-top: 5px;
    }

    .progress-text {
      font-size: 11px;
      margin-bottom: 15px;
      opacity: 0.8;
    }

    h2 {
      font-size: 16px;
      margin-bottom: 12px;
      color: #fff;
    }

    .loading {
      opacity: 0.7;
      pointer-events: none;
    }

    .ad-description {
      font-size: 11px;
      opacity: 0.8;
      margin-top: 2px;
      line-height: 1.3;
    }

    .ad-warning {
      font-size: 10px;
      color: #ffeb3b;
      margin-top: 5px;
      opacity: 0.8;
    }

    .ad-status {
      font-size: 12px;
      color: #ffeb3b;
      margin-top: 5px;
      font-weight: bold;
    }

    .yektanet-container {
      margin: 10px 0;
      padding: 10px;
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.2);
      min-height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .yektanet-text-container {
      margin: 10px 0;
      padding: 15px;
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.2);
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
  
  <!-- ÿßÿ≥⁄©ÿ±€åŸæÿ™ Yektanet ÿ®ÿ±ÿß€å ÿ≥ÿß€åÿ™ €å⁄©ÿ™ÿß -->
  <script>
    !function(e,t,n){e.yektanetAnalyticsObject=n,e[n]=e[n]||function(){e[n].q.push(arguments)},e[n].q=e[n].q||[];var a=t.getElementsByTagName("head")[0],r=new Date,c="https://cdn.yektanet.com/superscript/nz7XKE9o/native-aliakhondi0-arch.github.io-44599/yn_pub.js?v="+r.getFullYear().toString()+"0"+r.getMonth()+"0"+r.getDate()+"0"+r.getHours(),s=t.createElement("link");s.rel="preload",s.as="script",s.href=c,a.appendChild(s);var l=t.createElement("script");l.async=!0,l.src=c,a.appendChild(l)}(window,document,"yektanet");
  </script>
</head>
<body>
  <div class="reward-banner">
    <img src="https://img.icons8.com/ios-filled/50/ffffff/money-bag.png" alt="Money" style="width:18px; height:18px;">
    <span>Watch <strong>1000 ads</strong> and earn <strong>50,000 Shiba!</strong></span>
  </div>

  <div class="notification" id="notification"></div>

  <button class="wallet-btn" onclick="openWallet()">
    <img src="https://img.icons8.com/ios-filled/50/000000/wallet.png" alt="Wallet Icon">
  </button>

  <button class="dashboard-btn" onclick="openDashboard()">
    <img src="https://img.icons8.com/ios-filled/50/000000/combo-chart.png" alt="Dashboard Icon">
  </button>

  <button class="referral-btn" onclick="openReferral()">
    <img src="https://img.icons8.com/ios-filled/50/FF6B6B/groups.png" alt="Referral Icon">
  </button>

  <div class="container">
    <h1>
      <img src="https://upload.wikimedia.org/wikipedia/en/5/53/Shiba_Inu_coin_logo.png" alt="Shiba Logo" class="shiba-logo">
      Earn Shiba by Watching Ads
    </h1>
    
    <div class="subtitle">Watch ads, earn Shiba! Complete tasks and refer friends to earn more.</div>

    <div class="stats">
      <div class="stat-box">
        <div class="stat-value" id="currentBalance">0</div>
        <div class="stat-label">Shiba</div>
        <div class="last-update" id="balanceUpdate">Loading...</div>
      </div>
      <div class="stat-box">
        <div class="stat-value" id="currentAds">0</div>
        <div class="stat-label">Ads Watched</div>
        <div class="last-update" id="adsUpdate">Loading...</div>
      </div>
    </div>

    <div class="progress-container">
      <div class="progress-bar" id="progressBar" style="width: 0%"></div>
    </div>
    <div class="progress-text" id="progressText">0/1000 ads watched</div>

    <!-- ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ Yektanet ÿ®ÿ±ÿß€å ÿ≥ÿß€åÿ™ €å⁄©ÿ™ÿß -->
    <div class="section">
      <h2>Watch Ads & Earn Shiba</h2>
      
      <button class="yektanet-video-btn" onclick="showYektanetVideoAd()">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/video.png" class="btn-icon" alt="Yektanet Video">
        Video Ad (Earn 100 Shiba)
      </button>
      <div class="ad-description">Watch complete video advertisement</div>
      <div class="ad-status" id="yektanetVideoStatus"></div>
      
      <!-- ⁄©ÿßŸÜÿ™€åŸÜÿ± ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ Ÿà€åÿØÿ¶Ÿà€å€å Yektanet -->
      <div id="yektanet-video-container" class="yektanet-container" style="display: none;">
        <div id="pos-article-display-112042"></div>
        <div style="color: #fff; font-size: 14px; text-align: center;">
          <p>üì∫ Video Ad is Loading...</p>
          <p>Please watch the complete video to earn Shiba</p>
        </div>
      </div>

      <button class="yektanet-text-btn" onclick="showYektanetTextAd()">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/text.png" class="btn-icon" alt="Yektanet Text">
        Text Ad (Earn 80 Shiba)
      </button>
      <div class="ad-description">Read and interact with text advertisement</div>
      <div class="ad-status" id="yektanetTextStatus"></div>
      
      <!-- ⁄©ÿßŸÜÿ™€åŸÜÿ± ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ ŸÖÿ™ŸÜ€å Yektanet -->
      <div id="yektanet-text-container" class="yektanet-text-container" style="display: none;">
        <div id="pos-article-text-112132"></div>
        <div style="color: #fff; font-size: 12px; text-align: center;">
          <p>üìù Text Ad is Loading...</p>
          <p>Please read the complete advertisement</p>
        </div>
      </div>

      <div class="ad-warning">
        üîÑ Please wait while ads load...
      </div>
    </div>

    <div class="support">
      For support: 
      <a href="https://t.me/whichadtoearn" target="_blank" style="display: inline-flex; align-items: center; gap: 5px; text-decoration: none; color: #fff;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" style="height:16px; width:16px;">
        Contact us on Telegram
      </a>
    </div>
  </div>

  <div class="wallet-modal" id="walletModal">
    <div class="wallet-content">
      <h2>Wallet</h2>
      <p>Shiba Balance: <span id="shibaBalance">0</span></p>
      <input type="text" id="walletInput" placeholder="Enter wallet address">
      <input type="email" id="emailInput" placeholder="Enter your email">
      <button class="withdraw-btn" id="withdrawButton" onclick="withdraw()">Withdraw (Min: 200,000 Shiba)</button>
      <button class="close-btn" onclick="closeWallet()">Close</button>
    </div>
  </div>

  <div class="dashboard-modal" id="dashboardModal">
    <div class="wallet-content">
      <h2>Dashboard</h2>
      <p>Shiba Balance: <span id="dashBalance">0</span></p>
      <p>Ads Watched: <span id="dashAds">0</span></p>
      <p>Referrals: <span id="referralCount">0</span></p>
      <button class="close-btn" onclick="closeDashboard()">Close</button>
    </div>
  </div>

  <div class="referral-modal" id="referralModal">
    <div class="wallet-content">
      <h2>Referral Program</h2>
      <p>Invite friends and earn <strong>500 Shiba</strong> per referral!</p>
      <p>Your referral code: <strong id="referralCode">LOADING...</strong></p>
      <input type="text" id="referralLink" readonly style="width:100%; padding:8px; margin: 8px 0; font-size:12px;">
      <button onclick="copyReferralLink()" style="font-size:12px; padding:8px;">Copy Referral Link</button>
      <button class="close-btn" onclick="closeReferral()">Close</button>
    </div>
  </div>

  <script>
    // ÿ≥€åÿ≥ÿ™ŸÖ ÿ∞ÿÆ€åÿ±Ÿá‚Äåÿ≥ÿßÿ≤€å ÿØÿßÿØŸá‚ÄåŸáÿß
    function loadUserData() {
      return {
        shiba: parseInt(localStorage.getItem('user_shiba')) || 0,
        adsWatched: parseInt(localStorage.getItem('user_ads_watched')) || 0,
        referrals: parseInt(localStorage.getItem('user_referrals')) || 0,
        rewardGiven: localStorage.getItem('user_reward_given') === 'true',
        lastUpdate: localStorage.getItem('user_last_update') || 'Never'
      };
    }

    function saveUserData(data) {
      localStorage.setItem('user_shiba', data.shiba.toString());
      localStorage.setItem('user_ads_watched', data.adsWatched.toString());
      localStorage.setItem('user_referrals', data.referrals.toString());
      localStorage.setItem('user_reward_given', data.rewardGiven.toString());
      localStorage.setItem('user_last_update', new Date().toLocaleString());
    }

    // ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ÿØÿßÿØŸá‚ÄåŸáÿß€å ⁄©ÿßÿ±ÿ®ÿ±
    let userData = loadUserData();
    let shiba = userData.shiba;
    let adsWatched = userData.adsWatched;
    let referrals = userData.referrals;
    let rewardGiven = userData.rewardGiven;

    // ÿ≥€åÿ≥ÿ™ŸÖ ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ Yektanet - Video
    function showYektanetVideoAd() {
      const yektanetContainer = document.getElementById('yektanet-video-container');
      updateAdStatus('yektanetVideoStatus', 'üîÑ Loading video...');
      
      // ŸÜŸÖÿß€åÿ¥ ⁄©ÿßŸÜÿ™€åŸÜÿ± Yektanet
      yektanetContainer.style.display = 'block';
      
      // ŸÅÿπÿßŸÑ ⁄©ÿ±ÿØŸÜ ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ Yektanet
      if (typeof yektanet !== 'undefined') {
        yektanet('load', 'pos-article-display-112042');
        
        // ŸæÿßÿØÿßÿ¥ ÿ®ÿπÿØ ÿßÿ≤ ÿ≤ŸÖÿßŸÜ ⁄©ÿßŸÅ€å ÿ®ÿ±ÿß€å ÿØ€åÿØŸá ÿ¥ÿØŸÜ Ÿà€åÿØÿ¶Ÿà
        setTimeout(() => {
          addShiba(100); // ÿ™ÿ∫€å€åÿ± ÿ®Ÿá 100 ÿ¥€åÿ®ÿß
          showNotification("‚úÖ Video ad completed! You earned 100 Shiba!");
          yektanetContainer.style.display = 'none';
          updateAdStatus('yektanetVideoStatus', '‚úÖ Completed - 100 Shiba earned!');
          setTimeout(() => updateAdStatus('yektanetVideoStatus', ''), 5000);
          
          // ÿ±ŸÅÿ±ÿ¥ ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ Yektanet ÿ®ÿ±ÿß€å ÿØŸÅÿπŸá ÿ®ÿπÿØ
          setTimeout(() => {
            if (typeof yektanet !== 'undefined') {
              yektanet('refresh', 'pos-article-display-112042');
            }
          }, 1000);
        }, 10000);
      } else {
        showNotification("‚ùå Ads not loaded properly", false);
        yektanetContainer.style.display = 'none';
        updateAdStatus('yektanetVideoStatus', '‚ùå Failed to load');
        setTimeout(() => updateAdStatus('yektanetVideoStatus', ''), 3000);
      }
    }

    // ÿ≥€åÿ≥ÿ™ŸÖ ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ Yektanet - Text
    function showYektanetTextAd() {
      const yektanetTextContainer = document.getElementById('yektanet-text-container');
      updateAdStatus('yektanetTextStatus', 'üîÑ Loading text ad...');
      
      // ŸÜŸÖÿß€åÿ¥ ⁄©ÿßŸÜÿ™€åŸÜÿ± ŸÖÿ™ŸÜ€å Yektanet
      yektanetTextContainer.style.display = 'block';
      
      // ŸÅÿπÿßŸÑ ⁄©ÿ±ÿØŸÜ ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ ŸÖÿ™ŸÜ€å Yektanet
      if (typeof yektanet !== 'undefined') {
        yektanet('load', 'pos-article-text-112132');
        
        // ŸæÿßÿØÿßÿ¥ ÿ®ÿπÿØ ÿßÿ≤ ÿ≤ŸÖÿßŸÜ ⁄©ÿßŸÅ€å ÿ®ÿ±ÿß€å ÿÆŸàÿßŸÜÿØŸÜ ŸÖÿ™ŸÜ
        setTimeout(() => {
          addShiba(80); // ÿ™ÿ∫€å€åÿ± ÿ®Ÿá 80 ÿ¥€åÿ®ÿß
          showNotification("‚úÖ Text ad completed! You earned 80 Shiba!");
          yektanetTextContainer.style.display = 'none';
          updateAdStatus('yektanetTextStatus', '‚úÖ Completed - 80 Shiba earned!');
          setTimeout(() => updateAdStatus('yektanetTextStatus', ''), 5000);
          
          // ÿ±ŸÅÿ±ÿ¥ ÿ™ÿ®ŸÑ€åÿ∫ÿßÿ™ ŸÖÿ™ŸÜ€å Yektanet ÿ®ÿ±ÿß€å ÿØŸÅÿπŸá ÿ®ÿπÿØ
          setTimeout(() => {
            if (typeof yektanet !== 'undefined') {
              yektanet('refresh', 'pos-article-text-112132');
            }
          }, 1000);
        }, 8000);
      } else {
        showNotification("‚ùå Ads not loaded properly", false);
        yektanetTextContainer.style.display = 'none';
        updateAdStatus('yektanetTextStatus', '‚ùå Failed to load');
        setTimeout(() => updateAdStatus('yektanetTextStatus', ''), 3000);
      }
    }

    function updateAdStatus(elementId, message) {
      document.getElementById(elementId).textContent = message;
    }

    // ÿ≥€åÿ≥ÿ™ŸÖ ÿ±ŸÅÿ±ÿßŸÑ
    function setupReferralSystem() {
      let userRefCode = localStorage.getItem('user_ref_code');
      if (!userRefCode) {
        userRefCode = generateReferralCode();
        localStorage.setItem('user_ref_code', userRefCode);
      }
      return userRefCode;
    }

    function generateReferralCode() {
      const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      let result = '';
      for (let i = 0; i < 8; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return result;
    }

    function getReferralLink() {
      const userRefCode = localStorage.getItem('user_ref_code') || setupReferralSystem();
      return `https://t.me/Whichadtoearnbot?start=ref_${userRefCode}`;
    }

    function updateDashboard() {
      document.getElementById("shibaBalance").innerText = shiba.toLocaleString();
      document.getElementById("dashBalance").innerText = shiba.toLocaleString();
      document.getElementById("dashAds").innerText = adsWatched;
      document.getElementById("referralCount").innerText = referrals;
      document.getElementById("currentBalance").innerText = shiba.toLocaleString();
      document.getElementById("currentAds").innerText = adsWatched;
      
      document.getElementById("balanceUpdate").textContent = `Last update: ${new Date().toLocaleString()}`;
      document.getElementById("adsUpdate").textContent = `Total: ${adsWatched} ads`;
      
      const progress = Math.min((adsWatched / 10), 100);
      document.getElementById("progressBar").style.width = `${progress}%`;
      document.getElementById("progressText").textContent = `${adsWatched}/1000 ads watched`;
      
      saveUserData({
        shiba: shiba,
        adsWatched: adsWatched,
        referrals: referrals,
        rewardGiven: rewardGiven,
        lastUpdate: new Date().toLocaleString()
      });
    }

    function showNotification(message, isSuccess = true) {
      const notification = document.getElementById("notification");
      notification.textContent = message;
      notification.style.display = "block";
      notification.style.backgroundColor = isSuccess ? "rgba(46, 204, 113, 0.9)" : "rgba(231, 76, 60, 0.9)";
      
      setTimeout(() => {
        notification.style.display = "none";
      }, 4000);
    }

    function addShiba(amount) {
      shiba += amount;
      adsWatched += 1;

      if (adsWatched === 1000 && !rewardGiven) {
        shiba += 50000;
        rewardGiven = true;
        showNotification("üéâ Congratulations! You earned a bonus of 50,000 Shiba!");
      }

      updateDashboard();
    }

    function withdraw() {
      const walletAddress = document.getElementById("walletInput").value.trim();
      const userEmail = document.getElementById("emailInput").value.trim();
      const withdrawButton = document.getElementById("withdrawButton");

      if (!walletAddress || !userEmail) {
        showNotification("Please enter both wallet address and email.", false);
        return;
      }

      if (shiba < 200000) {
        showNotification("You need at least 200,000 Shiba to withdraw.", false);
        return;
      }

      withdrawButton.textContent = "Processing...";
      withdrawButton.classList.add('loading');
      showNotification("Processing withdrawal request...", true);

      // ÿ¥ÿ®€åŸá‚Äåÿ≥ÿßÿ≤€å ÿØÿ±ÿÆŸàÿßÿ≥ÿ™ ÿ®ÿ±ÿØÿßÿ¥ÿ™
      setTimeout(() => {
        shiba = 0;
        adsWatched = 0;
        rewardGiven = false;
        updateDashboard();
        document.getElementById("walletInput").value = "";
        document.getElementById("emailInput").value = "";
        
        showNotification("‚úÖ Withdrawal request submitted successfully!");
        closeWallet();
        
        withdrawButton.textContent = "Withdraw (Min: 200,000 Shiba)";
        withdrawButton.classList.remove('loading');
      }, 2000);
    }

    function openWallet() {
      document.getElementById("walletModal").style.display = "flex";
      updateDashboard();
    }

    function closeWallet() {
      document.getElementById("walletModal").style.display = "none";
    }

    function openDashboard() {
      document.getElementById("dashboardModal").style.display = "flex";
      updateDashboard();
    }

    function closeDashboard() {
      document.getElementById("dashboardModal").style.display = "none";
    }

    function openReferral() {
      const referralLink = getReferralLink();
      const userRefCode = localStorage.getItem('user_ref_code') || setupReferralSystem();
      
      document.getElementById("referralLink").value = referralLink;
      document.getElementById("referralCode").textContent = userRefCode;
      document.getElementById("referralModal").style.display = "flex";
    }

    function closeReferral() {
      document.getElementById("referralModal").style.display = "none";
    }

    function copyReferralLink() {
      const referralLink = document.getElementById("referralLink");
      referralLink.select();
      referralLink.setSelectionRange(0, 99999);
      
      try {
        navigator.clipboard.writeText(referralLink.value);
        showNotification("üìã Referral link copied to clipboard!");
      } catch (err) {
        showNotification("üìã Referral link copied to clipboard!");
      }
    }

    // ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å ÿßŸàŸÑ€åŸá
    window.onload = function() {
      setupReferralSystem();
      updateDashboard();
      
      window.onclick = function(event) {
        const walletModal = document.getElementById("walletModal");
        const dashboardModal = document.getElementById("dashboardModal");
        const referralModal = document.getElementById("referralModal");
        
        if (event.target === walletModal) closeWallet();
        if (event.target === dashboardModal) closeDashboard();
        if (event.target === referralModal) closeReferral();
      }
    }

    // ÿ∞ÿÆ€åÿ±Ÿá ÿÆŸàÿØ⁄©ÿßÿ± ÿØÿßÿØŸá‚ÄåŸáÿß
    window.addEventListener('beforeunload', function() {
      saveUserData({
        shiba: shiba,
        adsWatched: adsWatched,
        referrals: referrals,
        rewardGiven: rewardGiven,
        lastUpdate: new Date().toLocaleString()
      });
    });
  </script>
</body>
</html>